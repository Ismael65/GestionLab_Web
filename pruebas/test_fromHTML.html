<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Test fromHTML</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="js/jquery-1.7.1.min.js"></script>
        <!--<script src="js/jquery-ui-1.8.17.custom.min.js"></script>-->
        <!--<script src="js/basic.js"></script>-->
        <script src="js/jspdf.debug.js"></script>
        
        <script src="test_fromHTML.js"></script>
        
        
      <!--  <script>
    
   function crearPDF(){
     var nomArchivo = document.getElementById("nombre").value;
        var pdf = new jsPDF('p', 'pt', 'letter')

// source can be HTML-formatted string, or a reference
// to an actual DOM element from which the text will be scraped.
, source = $('#imprimir')[0]

// we support special element handlers. Register them with jQuery-style
// ID selector for either ID or node name. ("#iAmID", "div", "span" etc.)
// There is no support for any other type of selectors
// (class, of compound) at this time.
                   , specialElementHandlers = {
// element with id of "bypass" - jQuery style selector
                       '#bypassme': function (element, renderer) {
// true = "handled elsewhere, bypass text extraction"
                           return true
                       }
                   }

           margins = {
               top: 80,
               bottom: 60,
               left: 40,
               width: 522
           };
// all coords and widths are in jsPDF instance's declared units
// 'inches' in this case
           pdf.fromHTML(
                   source // HTML string or DOM elem ref.
                   , margins.left // x coord
                   , margins.top // y coord
                   , {
                       'width': margins.width // max width of content on PDF
                       , 'elementHandlers': specialElementHandlers
                   },
                   function (dispose) {
// dispose: object with X, Y of the last line add to the PDF
//          this allow the insertion of new lines after html
                       pdf.save(nomArchivo + '.pdf');
                   },
                   margins
                   );
       }
        
    /*<!-- function crearPDF() {
        var valor = document.getElementById("nombre").value;        
        var pdf = new jsPDF('p', 'pt', 'letter')
        , source = $('#imprimir')[0]

        , specialElementHandlers = {
            '#bypassme': function (element, renderer) {
                return true
            }
        }
        margins = {
            top: 80,
            bottom: 60,
            left: 40,
            width: 522
        };

        pdf.fromHTML(
            source 
            , margins.left // x coord
            , margins.top 
            , { // y coord
                'width': margins.width, 
                'elementHandlers': specialElementHandlers
            },

            function (dispose) {
                pdf.save(valor + '.pdf');
            }, 
            margins
        )
    }
        </script>-->
    </head>
    <body id="cuerpo">
        <div id="imprimir">
            <img src="imagenes/diablo.png" id="diablo" width="80px"/>
            <h1 id="hola">Hola mundo</h1>
         </div>   
            <label for="nombre">Nombre de Archivo: <input type="text" id="nombre" value></label><br>
            <label for="cedula" class="">Cedula: </label><input type="text" name="cedula" id="cedula" value="" size="10" required=""/><br>
        <label for="nombre2" class="">Nombre: </label><input type="text" name="nombre" id="nombre2" value="" size="15" required=""/><br>
        <label for="apellido" class="">Apellido: </label><input type="text" name="apellido" id="apellido" value="" size="15" required=""/><br>
        <label for="texArea" class="">Texto: </label><textarea id="texto" cols="50" rows="3"></textarea><br>
            <br>
            
            <br>
            <h1>  
                Esto es un DIV impreso en PDF
            </h1>
            
        
        <button onclick="javascript:crearPDF()" class="button">Generar PDF</button>
        
    </body>
</html>
